republican_government_taxes = {
	display_mode = tree
	icon = gold_icon
	obligation_levels = {
		republican_tax_exempt = {
			position = { 0 0 }

			tax = exempt_republican_tax
			vassal_opinion = 10

			ai_liege_desire = 1
			ai_vassal_desire = 5
		}
		republican_tax_low = {
			parent = republican_tax_exempt
			position = { 1 0 }

			tax = low_republican_tax
			vassal_opinion = 5

			ai_liege_desire = 2
			ai_vassal_desire = 4
		}
		republican_tax_normal = {
			default = yes
			parent = republican_tax_low
			position = { 2 0 }

			tax = normal_republican_tax

			ai_liege_desire = 3
			ai_vassal_desire = 3
		}
		republican_tax_high = {
			parent = republican_tax_normal
			position = { 3 0 }
			
			tax = high_republican_tax
			vassal_opinion = -15
			vassal_modifier = {
				popular_opinion = -5
				county_opinion_add = -15
			}

			ai_liege_desire = 4
			ai_vassal_desire = 2
		}
		republican_tax_extortionate = {
			parent = republican_tax_high
			position = { 4 0 }
			
			tax = extortionate_republican_tax
			vassal_modifier = {
				popular_opinion = -10
				county_opinion_add = -25
				fort_level = -1
			}
			vassal_opinion = -25

			ai_liege_desire = 5
			ai_vassal_desire = 1
		}
	}
}

# Everything below this line is 'Fine Print'

republican_special_contract = {
	display_mode = radiobutton
	is_shown = {
		always = yes
	}
	obligation_levels = {
		republican_special_contract_none = {
			position = { 0 1 }
			default = yes
			
			ai_vassal_desire =  {
				value = 0
				if = {
					limit = {
						scope:vassal = {
							vassal_contract_has_flag = has_scutage_contract
							vassal_contract_obligation_level:feudal_government_taxes >= feudal_tax_normal_level
						}
					}
					add = @ai_standard_vassal_desire
				}
			}
			
			
			ai_liege_desire =  {
				value = 0
				if = {
					limit = {
						scope:vassal = {
							vassal_contract_has_flag = has_scutage_contract
							vassal_contract_obligation_level:feudal_government_taxes < feudal_tax_normal_level
						}
					}
					add = @ai_standard_liege_desire
				}
				if = {
					limit = {
						scope:vassal = {
							vassal_contract_has_flag = has_march_contract
							vassal_contract_obligation_level:feudal_government_levies < feudal_levies_normal_level
						}
					}
					add = @ai_standard_liege_desire
				}
				if = {
					limit = {
						scope:vassal = {
							vassal_contract_has_flag = has_palatinate_contract
							OR = {
								vassal_contract_obligation_level:feudal_government_taxes >= feudal_tax_normal_level
								vassal_contract_obligation_level:feudal_government_levies >= feudal_levies_normal_level
							}
						}
					}
					add = @ai_standard_liege_desire
				}
			}
		}
		republican_special_contract_governorship = {
			is_valid = {
				always = yes
			}
			parent = republican_special_contract_none
			position = { 1 1 }
			
			tax_factor = scutage_contract_tax
			levies_factor = -0.75
			
			vassal_modifier = {
				men_at_arms_maintenance = -0.2
			}
			
			flag = has_scutage_contract
			
			ai_liege_desire =  {
				value = 0
				if = {
					limit = {
						scope:vassal = {
							vassal_contract_obligation_level:feudal_government_taxes > feudal_tax_normal_level
							vassal_contract_obligation_level:feudal_government_levies < feudal_levies_normal_level
						}
					}
					add = @ai_standard_liege_desire
				}
			}
		}
	}
}
